---
/**
 * Skeleton Component
 * Loading placeholder with pulse animation
 */
import { cn } from '@/lib/cn';

interface Props {
  variant?: 'default' | 'circular' | 'text';
  width?: string;
  height?: string;
  animated?: boolean;
  class?: string;
}

const {
  variant = 'default',
  width,
  height,
  animated = true,
  class: className,
} = Astro.props;

const variants = {
  default: 'rounded-md',
  circular: 'rounded-full',
  text: 'rounded h-4',
};

const style = [
  width && `width: ${width}`,
  height && `height: ${height}`,
].filter(Boolean).join('; ');
---

<div
  class={cn(
    'bg-secondary',
    variants[variant],
    animated && 'animate-pulse',
    className
  )}
  style={style || undefined}
  aria-hidden="true"
  role="presentation"
/>

<style>
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
</style>
